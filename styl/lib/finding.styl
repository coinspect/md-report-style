
@require 'vars.styl'
@require 'mixins.styl'

$finding-deco-s = 1.25em
$finding-deco-m = 0.75em

fixed-field(value)
    visibility hidden
    width 0px

    if (value)
        &:before
            content $icon-fixed
            visibility visible
            color $low-color
    else
        &:before
            content $icon-not-fixed
            visibility visible
            color $high-color

.finding-header 
    color gray
    margin-left $finding-deco-m
    margin-top 1em

    dt
        flex-basis 20%
        text-transform capitalize
        font-size 0.9em
        margin 0
        text-align left

    dd
        break-before avoid
        font-weight bold
        align-items flex-start
        text-align left
        white-space pre
    
    div[class^="field-"] dd
        text-transform capitalize

    .field-location dd
        monospacedText()
        text-transform inherit !important

    .field-status dd
        font-size 1em
        line-height 1em

    .field-fixed
        dd[data-value=false]
            fixed-field(false)

        dd[data-value=true]
            fixed-field(true)

.finding
    h3 // Finding title
        text-indent -($finding-deco-s + $finding-deco-m)
        padding 0.5em 0
        margin 0
        padding-left $finding-deco-s
        font-weight bold
        border-width $border-thin
        border-style solid none solid none

        &::before
            right 0
            content ''
            display inline-block
            width 1em
            height @width
            border-radius: (@width / 8)
            margin-left @width
            margin-right $finding-deco-m
            position relative
            vertical-align middle

.field-fixed[data-value=false]
    fixed-field(false)

.field-fixed[data-value=true]
    fixed-field(true)

// Status icon & color
for $s in $status
    $color = convert('$' + $s + '-color')
    $svg = 'svg/' + $s + '.svg'

    .icon[data-status={$s}]

    .finding[data-status={$s}]
        h3
            border-color $color
            svgIcon($svg,$color)

        .finding-header
            border-color $color

    .field-status[data-value={$s}]  
        svgIcon($svg,$color)
        visibility hidden
        font-size 0px
        &::before
            font-size 1rem
            visibility visible
